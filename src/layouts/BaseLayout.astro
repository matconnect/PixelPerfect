---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";
---

<html lang="fr" class="font-francker" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PixelPerfect | Agence Web</title>
    <script is:inline defer>
      document.addEventListener("DOMContentLoaded", () => {
        const html = document.documentElement;
        const saved = localStorage.getItem("theme");

        if (saved === "dark" || saved === null) {
          html.classList.add("dark");
          localStorage.setItem("theme", "dark");
        }

        document.querySelectorAll(".theme-toggle").forEach((btn) => {
          btn.addEventListener("click", () => {
            const isDark = html.classList.toggle("dark");
            localStorage.setItem("theme", isDark ? "dark" : "light");
          });
        });
      });
    </script>
  </head>
  <body
    class="flex flex-col min-h-screen text-[color:var(--foreground)] transition-colors duration-300"
  >
    <Header />

    <main class="flex-1 px-4 sm:px-6 lg:px-8 py-8 bg-background font-custom">
      <slot />
    </main>

    <Footer />
  </body>
</html>
